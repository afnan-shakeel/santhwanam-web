<!-- Custody Balance Card -->
<div class="relative bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden">
  <!-- 3px gradient top accent -->
  <div class="absolute top-0 left-0 right-0 h-[3px] bg-linear-to-r from-primary-600 to-teal-400"></div>

  <div class="px-8 pt-7 pb-6">
    <!-- Balance Row -->
    <div class="flex items-start justify-between gap-6">
      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.05em] text-gray-400 mb-1.5">Current Balance</p>
        <p class="text-4xl font-bold tracking-tight text-gray-900 leading-none">
          <span class="text-[22px] font-medium text-gray-500 mr-0.5">â‚¹</span>{{ balance | number:'1.2-2' }}
        </p>
      </div>

      <!-- Action Buttons -->
      <div class="flex items-center gap-3 shrink-0">
        @if (showReminderButton) {
          <button (click)="sendReminder.emit()"
            class="inline-flex items-center gap-[7px] px-[18px] py-[9px] text-[13.5px] font-[550] text-gray-900 bg-white border border-gray-200 rounded-md hover:border-gray-400 hover:bg-gray-50 transition-all">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
            </svg>
            Send Reminder
          </button>
        }
      </div>
    </div>

    <!-- Stats Row -->
    <div class="flex gap-8 mt-5 pt-5 border-t border-gray-100">
      <div class="flex flex-col gap-0.5">
        <span class="text-[11.5px] font-medium uppercase tracking-[0.04em] text-gray-400">Total Received</span>
        <span class="text-[17px] font-semibold tracking-tight text-green-600">{{ formatCurrency(totalReceived) }}</span>
      </div>
      <div class="flex flex-col gap-0.5">
        <span class="text-[11.5px] font-medium uppercase tracking-[0.04em] text-gray-400">Total Transferred</span>
        <span class="text-[17px] font-semibold tracking-tight text-red-600">{{ formatCurrency(totalTransferred) }}</span>
      </div>
      <div class="flex flex-col gap-0.5">
        <span class="text-[11.5px] font-medium uppercase tracking-[0.04em] text-gray-400">Last Activity</span>
        @if (isOverdue) {
          <span class="text-[17px] font-semibold tracking-tight text-amber-600">{{ getRelativeTime(lastActivityDate) }}</span>
        } @else {
          <span class="text-[17px] font-semibold tracking-tight">{{ getRelativeTime(lastActivityDate) }}</span>
        }
      </div>
    </div>
  </div>
</div>
